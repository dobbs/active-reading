<!doctype html>
<title>Active Reading Experiment</title>
<link rel="icon" type="image/png" href="data:image/png;base64,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">
<style>
 html, body { width: 100vw; height: 100vh; margin: 0;}
 body {
   display: grid;
   grid-template-areas:
     "head head"
     "nav  main";
   grid-template-columns:
     1fr 3fr;
   grid-template-rows:
     1fr
     7fr;
 }
 body > * {margin: 0; padding: 1rem;}
 nav {
   grid-area: nav; background-color: lightblue;
   display: flex; flex-direction: column;
 }
 main    {
   grid-area: main; background-color: bisque;
   display: flex; flex-direction: column;
 }
 header {
   grid-area: head; background-color: pink;
   display: flex; flex-direction: row;
 }
</style>

<header>
</header>

<nav>
  <a href="#" data-step="intro">Intro</a>
  <a href="#" data-step="login">Login</a>
  <a href="#" data-step="update">Update</a>
  <a href="#" data-step="change-domains">Change Domains</a>
  <a href="#" data-step="inspect">Inspect</a>
</nav>

<main>
  <welcome-active-reader></welcome-active-reader>
</main>

<script type="module">
 import "/deps/welcome-active-reader.js"
 const $ = (s,el=document) => el.querySelector(s)
 const $$ = (s,el=document) => Array.from(el.querySelectorAll(s))

 function activateNav() {
   for (let a of $$('[data-step]')) {
     a.onclick = e => {
       e.preventDefault()
       const step = e.target.dataset.step
       const head = $('header')
       const template = $(`[data-id="${step}"]`)
       head.innerHTML = ""
       head.appendChild(template.content.cloneNode(true))
     }
   }
 }
 Object.assign(window, {
   $, $$,
   activateNav
 })
</script>

<template data-id="intro">
  <p>
    We experiment with browser local storage and postMessage() across
    domains.
  </p>
</template>

<template data-id="login">
  <p>
    We login to this page in this domain using a URL to another page
    in another domain. This page and that one engage a custom
    postMessage() protocol. This page looks for capabilities offered
    by that one.
  </p>
</template>

<template data-id="update">
  <p>
    In this page, we invite the reader to annotate. Data are sent to
    that page which saves the annotations in local storage under that
    domain.
  </p>
</template>

<template data-id="change-domains">
  <p>
    Here we visit a similar page under a new domain. Login using the
    same URL for the reader's notebook. Annotations for this page will
    be sent to that page which saves the new annotations in local
    storage.
  </p>
</template>

<template data-id="inspect">
  <p>
    Here we visit the reader's notebook and browse the annotations
    that have been saved there. The notebook also offers links to
    return to previous pages.
  </p>
</template>

<script type="module">
 window.activateNav()
</script>
